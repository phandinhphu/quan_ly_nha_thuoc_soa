{
	"info": {
		"_postman_id": "sales-service-collection",
		"name": "PMA Sales Service API",
		"description": "Collection các API cho Sales Service của PMA. Yêu cầu token từ Auth Service để truy cập các API.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8085",
			"type": "string"
		},
		{
			"key": "token",
			"value": "",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "Health Check",
			"item": [
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/actuator/health",
							"host": ["{{baseUrl}}"],
							"path": ["actuator", "health"]
						},
						"description": "Kiểm tra trạng thái service"
					},
					"response": []
				}
			]
		},
		{
			"name": "Hóa Đơn APIs",
			"item": [
				{
					"name": "Tạo Hóa Đơn",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"description": "Token từ auth-service (ADMIN, MANAGER hoặc STAFF)"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"maHoaDon\": \"HD001\",\n    \"ngayBan\": \"2024-01-15T10:30:00\",\n    \"maNV\": \"NV001\",\n    \"chiTiet\": [\n        {\n            \"maThuoc\": \"T001\",\n            \"soLuong\": 5,\n            \"donGia\": 75000\n        },\n        {\n            \"maThuoc\": \"T002\",\n            \"soLuong\": 3,\n            \"donGia\": 120000\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/sales/invoices",
							"host": ["{{baseUrl}}"],
							"path": ["api", "sales", "invoices"]
						},
						"description": "Tạo hóa đơn bán hàng mới. Yêu cầu role ADMIN, MANAGER hoặc STAFF. Tự động giảm tồn kho và tạo lịch sử tồn kho."
					},
					"response": []
				},
				{
					"name": "Lấy Danh Sách Hóa Đơn",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/sales/invoices",
							"host": ["{{baseUrl}}"],
							"path": ["api", "sales", "invoices"]
						},
						"description": "Lấy danh sách tất cả hóa đơn."
					},
					"response": []
				},
				{
					"name": "Lấy Chi Tiết Hóa Đơn",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/sales/invoices/HD001",
							"host": ["{{baseUrl}}"],
							"path": ["api", "sales", "invoices", "HD001"]
						},
						"description": "Lấy thông tin chi tiết của một hóa đơn."
					},
					"response": []
				},
				{
					"name": "Xóa Hóa Đơn",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/sales/invoices/HD001",
							"host": ["{{baseUrl}}"],
							"path": ["api", "sales", "invoices", "HD001"]
						},
						"description": "Xóa hóa đơn. Yêu cầu role ADMIN."
					},
					"response": []
				}
			]
		}
	]
}

